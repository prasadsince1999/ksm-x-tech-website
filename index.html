<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KSM X Tech</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header class="header">
        <a href="meaning.html" class="logo">
            <span class="logo-ksm">KSM</span>
            <span class="logo-xtech">X Tech</span>
        </a>
    </header>

    <main class="hero">
        <h1 class="hero-title">KSM X Tech</h1>
        <p class="hero-subtitle">Building mobile apps, multiplayer games, and AI-powered digital products <br>for a
            global audience.</p>
        <a href="mailto:support@ksmxtech.com" class="button">Contact Us</a>
    </main>

    <section class="about fade-in-section">
        <div class="about-container">
            <div class="about-heading">
                <h2>About Us</h2>
            </div>
            <div class="about-content">
                <p>KSM X Tech develops scalable, user-friendly digital<br>products. Our focus is on innovation,
                    performance, and<br>creating real value through modern technology.</p>
                <div class="contact-row">
                    <div class="contact-btn">CONTACT</div>
                    <a href="mailto:support@ksmxtech.com" class="contact-email">support@ksmxtech.com</a>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer fade-in-section">
        <div class="footer-links">
            <a href="privacy-policy.html">Privacy Policy</a>
            <span class="separator">|</span>
            <a href="terms-and-conditions.html">Terms & Conditions</a>
        </div>
        <div class="copyright">
            &copy; 2026 KSM X Tech. All rights reserved.
        </div>
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Header scroll effect and KSM width calculation
            const ksmElement = document.querySelector('.logo-ksm');

            function updateKsmWidth() {
                if (ksmElement) {
                    document.documentElement.style.setProperty('--ksm-width', ksmElement.offsetWidth + 'px');
                }
            }

            // Wait for fonts to load before calculating width, and recalculate on resize
            document.fonts.ready.then(updateKsmWidth);
            window.addEventListener('resize', updateKsmWidth);
            updateKsmWidth(); // initial calculation

            const header = document.querySelector('.header');
            if (header) {
                window.addEventListener('scroll', () => {
                    if (window.scrollY > 50) {
                        header.classList.add('scrolled');
                    } else if (window.scrollY <= 10) {
                        header.classList.remove('scrolled');
                    }
                });
            }

            // Apply Word Reveal effect to these selectors
            document.querySelectorAll('.hero-title, .about-content p, .about-heading h2').forEach(el => {
                const html = el.innerHTML;

                // Split by spaces but preserve <br> tags
                const newHtml = html.split(/(<br\s*\/?>)/i).map(part => {
                    if (part.toLowerCase().startsWith('<br')) return part;

                    return part.split(/\s+/).filter(word => word.trim().length > 0).map(word => {
                        return `<span class="animate-word-container"><span class="animate-word">${word}</span></span>`;
                    }).join(' ');
                }).join('');

                el.innerHTML = newHtml;

                // Set staggered transition delays for each word
                let delay = 0;
                let step = el.classList.contains('hero-title') ? 150 : 25; // Slower stagger for main title
                el.querySelectorAll('.animate-word').forEach(span => {
                    span.style.transitionDelay = `${delay}ms`;
                    delay += step; // Delay between words
                });

                el.classList.add('word-reveal');
            });

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, {
                threshold: 0.1
            });

            document.querySelectorAll('.fade-in-section, .word-reveal').forEach((section) => {
                observer.observe(section);
            });

            setTimeout(() => {
                document.querySelectorAll('.word-reveal').forEach(el => {
                    const rect = el.getBoundingClientRect();
                    if (rect.top < window.innerHeight) {
                        el.classList.add('is-visible');
                        observer.unobserve(el);
                    }
                });
            }, 50); // Ensure elements already in viewport animate immediately
        });
    </script>
</body>

</html>